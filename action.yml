name: "Label Merge Conflicts"
description: 'Label pull requests with merge conflicts and subtle git-blob merge changes beyond those flagged by GitHub'
author: "goonstation"
branding:
  icon: "git-merge"
  color: "red"
inputs:
  github_token:
    description: "GitHub token or secret personal access token"
    required: true
  conflict_label_name:
    description: "The name of the label which should be used to marked PRs with conflicts"
    required: true
  conflict_comment:
    description: "When present, a comment will be created on the pull request when the conflict label is added"
    required: false
    default: |
      :wave: Hi, @${author},
      I detected conflicts against the base branch :speak_no_evil:
      You'll want to sync :arrows_counterclockwise: your branch with upstream!
      ***
      This message is automatically generated by [prince-chrismc/label-merge-conflicts-action](https://github.com/prince-chrismc/label-merge-conflicts-action) so don't hesitate to report issues/improvements there.
  detect_merge_changes:
    description: "check that the merge commit is an exact match to the branch and report changes as conflicts"
    required: false
    default: "false"
  max_retries:
    description: "number of times to retry on a failed mergable check"
    required: false
    default: "8"
  wait_ms:
    description: "milliseconds between retries"
    required: false
    default: "9000"
runs:
  using: "node16"
  main: "dist/index.js"
